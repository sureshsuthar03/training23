for firstbranch, modified for firstbranch